<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>AvantX - 打造跨平台的原生手机应用</title>

		<meta name="description" content="AvantX - 打造跨平台的原生手机应用">
		<meta name="author" content="Rocky Duan">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
    <style>
      @font-face {
        font-family: 'Montserrat';
        font-style: normal;
        font-weight: 700;
        src: local('Montserrat-Bold'), url(fonts/Montserrat.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
      }
      .reveal table td {
        padding: 1.2em 0.5em 1.2em 0.5em;
      }
      .reveal img {
        box-shadow: none;
        -webkit-box-shadow: none !important;
        border: none;
      }
      .reveal code {
        font-size: 120%;
        line-height: 120%;
      }
      .reveal img.messy-storyboard {
        max-width: none;
        max-height: none;
        width: 600px;
        border: none;
        margin: 0;
      }
      .reveal .messy-wrapper{
        position: absolute;
        max-width: none;
        max-height: none;
        width: 600px;
        left: 50%;
        margin-left: -300px;
        transform: scale(6.9) translate(35.2%,-36.7%);
        transition: transform 1s;
        top: 50px;
      }
      .reveal img.initial-storyboard {
        position: absolute;
        max-width: none;
        max-height: none;
        left: 50%;
        width: 300px;
        border: none;
        margin-left: -150px;
        opacity: 1;
        top: 0;
        transform: scale(0.131) translate(-543%,308%);
      }
      .reveal .storyboard-wrapper {
        width: 960px;
        height: 600px;
        background-color: none;
        position: relative;
        overflow: hidden;
      }
      .reveal .storyboard-wrapper.zoom .messy-wrapper {
        transform: none;
      }
      .reveal img.merge-hell-meme {
        position: absolute;
        left: 50%;
        width: 400px;
        margin-left: -200px;
        top: 50%;
        border: none;
        margin-top: -127px;
        box-shadow: none;
      }
      .reveal *, .reveal li, .reveal p {
        font-family: 'Montserrat', Impact, sans-serif;
      }
      .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
        text-transform: none;
        font-family: 'Montserrat', Impact, sans-serif;
      }

    </style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
        <section>
          <h1>AvantX</h1>
          <br>
          <h2>打造跨平台的原生手机应用</h2>
          <br>
          <h4><a href="mailto:rockyduan@peachapp.com">rockyduan@peachapp.com</a></h4>
        </section>
        <section style="text-align: left">
					<h2>自我介绍</h2>
          <ul>
            <li><h3>UC Berkeley, 2014</h3></li>
            <li><h3>PeachApp.com CTO</h3></li>
            <li><h3>全栈工程师</h3></li>
          </ul>
        </section>
        <section style="text-align: left">
					<h2>公司介绍</h2>
          <ul>
            <li><h3>Peach: 革命性的移动电商</h3></li>
            <li><h3>九分钟极速闪拍模式</h3></li>
            <li><h3>IDG千万级天使轮投资</h3></li>
          </ul>
        </section>
        <section data-background="images/vatican_edited.png">
          <h1>Mobile!</h1>
        </section>
        <section>
          <img src="images/facepalm.svg" style="width: 400px; border: none"/>
          <h1>Mobile...</h1>
        </section>
        <section>
          <h1>亲身经历</h1>
        </section>
        <section>
          <h3>Interface Builder</h3>
        </section>
        <section data-state="initial storyboard-slide">
          <div class="storyboard-wrapper">
            <div class="messy-wrapper">
              <img src="images/messy_storyboard.png" class="messy-storyboard" />
              <img src="images/initial_storyboard.png" class="initial-storyboard" />
              <div class="fragment storyboard-zoom-trigger"></div>
              <img class="fragment" src="images/cereal-guy-cereal-guy-spitting.svg" style="position: absolute; bottom: 10px; border: none; box-shadow: none; right: 0" />
            </div>
          </div>
        </section>
        <section>
          <h3>代码实现</h3>
        </section>
        <section>
          <img src="images/ios_message_list_code.png" />
        </section>
        <section>
          <img src="images/web_message_list_code.png" style="border: none" />
        </section>
        <section>
          <img src="images/angry-desk-flip.svg" style="width: 700px" />
        </section>
        <section>
          <img src="images/ios_loading.gif" style="border: none; width: 300px" />
        </section>
        <section>
          <img src="images/ios_average_review_time.png" style="width: 700px" />
        </section>
        <!--<section>
        </section>
        <section>
          <h3>iOS 界面开发</h3>
          <h2>StoryBoard / Interface Builder?</h2>
        </section>
        <section>
          <h3>iOS界面开发</h3>
          <h2>纯代码实现？</h2>
        </section>
        <section>
          <h3>Android界面开发</h3>
          <h2>Layout Editor / XML?</h2>
        </section>-->
        <section>
          <h4 style="text-transform: none">&ldquo;There should be a better way to build apps.&rdquo;</h4>
        </section>
        <section>
          <h2>Demo</h2>
        </section>
        <section>
          <h2>架构设计</h2>
        </section>
        <section style="text-align: left">
          <h3>传统MVVM架构</h3>
          <img src="images/mvvm.svg" style="border: none; background: none; height: 80px" />
          <ul class="fragment">例子：
            <li>Knockout.js (JavaScript)</li>
            <li>ReactiveCocoa (iOS)</li>
            <li>RoboBinding (Android)</li>
          </ul>
        </section>
        <section style="text-align: left">
          <h3>AvantX架构</h3>
          <img src="images/mvvm_abstractview.svg" style="border: none; background: none; height: 80px" />
          <div style="overflow: hidden">
            <img class="fragment" src="images/shared_label.svg" style="float: left; margin: 0; border: none; background: none" />
            <div style="float: left; width: 400px">
              <img class="fragment" src="images/ios_label.svg" style="margin: 0; border: none; background: none" />
              <img class="fragment" src="images/android_label.svg" style="margin: 0; border: none; background: none" />
            </div>
          </div>
        </section>
        <section style="text-align: left">
          <h3>AvantX架构</h3>
          <img src="images/mvvm_abstractview_highlight.svg" style="border: none; background: none; height: 80px" />
        </section>
        <!--<section>
          <ul>
            <li class="fragment">
              <h4>传统MVVM架构</h4>
              <h4>Model &lt;-&gt; ViewModel &lt;-&gt; View</h4>
            </li>
            <li class="fragment">
              <h4>AvantX架构</h4>
              <h4>Model &lt;-&gt; ViewModel &lt;-&gt; <a>RenderElement</a> &lt;-&gt; View</h4>
              <h4 style="text-align: right" class="fragment">
                例子：Label &lt;-&gt; UILabel<br>
                      Button &lt;-&gt; UIButton<br>
              </h4>
            </li>
          </ul>
        </section>
        <section style="text-align: left">
          <h3 style="text-transform: none">原理</h3>
          <li>
            <h4>AvantX架构</h4>
            <h4><a>Model &lt;-&gt; ViewModel &lt;-&gt; RenderElement</a> &lt;-&gt; View</h4>
          </li>
        </section>-->
        <section style="text-align: left">
          <h3>用户事件记录/分析</h3>
          <ul>
            <li class="fragment">默认记录所有页面跳转</li>
            <li class="fragment">
            自定义数据记录
<pre><code class="lang-xml" style="padding-right: 100px">&lt;Button Text="Click me"&gt;
  &lt;Button.Click&gt;
    &lt;command:TrackEvent Name="sample button clicked" /&gt;
  &lt;/Button.Click&gt;
&lt;/Button&gt;
</code></pre>
            </li>
            <li class="fragment">实时获取在线用户当前页面、历史操作</li>
          </ul>
        </section>
        <section style="text-align: left">
          <h3>A/B测试</h3>
          <ul>
            <li class="fragment">
              传统模式<br>
              事先编码大量逻辑，后端调整配置文件
            </li>
            <li class="fragment">
              AvantX<br>
              后端调整Template文件，对页面100%操控能力
            </li>
          </ul>
        </section>
        <section style="text-align: left">
          <h3>页面导航</h3>
          <pre class="fragment"><code class="lang-xml">&lt;command:RequestRoute Path="/app/sign_in" /&gt;</code></pre>
          <pre class="fragment"><code class="lang-java">// Android
...
void handleRoute(Page sender, AppRoute toRoute) {
  if (toRoute instanceof SignInRoute) {
    Intent intent = new Intent(getActivity(sender), SignInActivity.class);
    getActivity(sender).startActivity(intent);
  }
}</code></pre>
          <pre class="fragment"><code class="lang-java">// iOS
...
void handleRoute(Page sender, AppRoute toRoute) {
  if (toRoute instanceof SignInRoute) {
    getViewController(sender).presentViewController(
        new SignInViewController(), true, null);
  }
}
          </code></pre>
        </section>
        <!--<section style="text-align: left">
          <h3>页面导航</h3>
          <pre><code class="lang-java">// Shared code
...
String serialize(AppRoute route) {
  if (route instanceof SignInRoute) {
    return "/app/sign_in";
  }
}

AppRoute deserialize(String url) {
  if (url.equals("/app/sign_in")) {
    return new SignInRoute();
  }
}
          </code></pre>
        </section>-->
        <section style="text-align: left">
          <h3>Deep Linking</h3>
          <img class="fragment" src="images/deep_linking.svg" style="border: none; background: none" />
        </section>
        <section style="text-align: left">
          <h3>推送消息跳转</h3>
          <img class="fragment" src="images/push_notifications.svg" style="border: none; background: none" />
        </section>
        <section>
          <h3>如何在不同平台间共用代码？</h3>
        </section>
        <section>
          <h3>j2objc @ Google</h3>
          <h4>Java to Objective-C transpiler</h4>
        </section>
        <section>
          <div style="overflow: hidden">
            <img src="images/transpiler_java_source.svg" style="height: 400px; border: none; background: none" />
            <img class="fragment" src="images/transpiler_arrow.svg" style="height: 400px; border: none; background: none" />
            <img class="fragment" src="images/transpiler_objc_source.svg" style="height: 400px; border: none; background: none" />
          </div>
        </section>
        <section style="text-align: left">
          <h3>示例</h3>
          <div>
<pre><code class="lang-java">// MathUtil.java
public static boolean isPrime(int num) {
  if (num % 2 == 0) {
    return num == 2;
  }
  for (int i = 3; i * i <= num; i += 2) {
    if (num % i == 0) {
      return false;
    }
  }
  return true;
}
</code></pre>
          </div>
        </section>
        <section style="text-align: left">
          <h3>示例</h3>
          <div>
<pre><code class="lang-m">// MathUtil.m
jboolean SXMathUtil_isPrimeWithInt_(jint num) {
  if (num % 2 == 0) {
    return num == 2;
  }
  for (jint i = 3; i * i <= num; i += 2) {
    if (num % i == 0) {
      return NO;
    }
  }
  return YES;
}
</code></pre>
          </div>
        </section>
        <section style="text-align: left">
          <h3>内存模型</h3>
          <h4 class="fragment">Garbage Collection vs. Reference Counting</h4>
<pre class="fragment"><code class="lang-java">// Parent.java
public class Parent {
  private Child child;
}

// Child.java
public class Child {
  private Parent parent;
}
</pre></code>
<pre class="fragment"><code class="lang-java">// Parent.java
public class Parent {
  private Child child;
}

// Child.java
public class Child {
  @Weak private Parent parent;
}
</pre></code>
        </section>
        <section style="text-align: left">
          <h3>原生API调用</h3>
            <pre class="fragment"><code class="lang-java">// (Some Java file)
CGContext.drawPath(c, CGPathDrawingMode.Fill);</pre></code>
            <pre class="fragment"><code class="lang-java">// CGContext.java
@Mapping("CGContextRef")
@Library("CoreGraphics/CoreGraphics.h")
public class CGContext {
    @GlobalFunction("CGContextDrawPath")
    public static native void drawPath(CGContext c, @Representing("CGPathDrawingMode") long mode);
}</pre></code>
            <pre class="fragment"><code class="lang-java">// (Translated Objective-C file)
CGContextDrawPath(c, kCGPathFill);</pre></code>
        </section>

        <section style="text-align: left">
          <h4>与其它跨平台框架的对比</h4>
          <br>
          <table style="font-size: 80%">
						<thead>
							<tr>
								<th></th>
								<th>AvantX</th>
								<th class="fragment">HTML5</th>
								<th class="fragment">React Native</th>
								<th class="fragment">Xamarin</th>
							</tr>
						</thead>
						<tbody>
							<tr class="fragment">
								<td>内存管理</td>
								<td>原生</td>
								<td>JavaScript GC</td>
								<td>GC+原生混合模型</td>
								<td>GC+原生混合模型</td>
							</tr>
							<tr class="fragment">
								<td>原生API调用</td>
                <td>透明<br>无性能问题</td>
								<td>不直接支持</td>
								<td>不直接支持</td>
                <td>机制非常复杂</td>
							</tr>
							<tr class="fragment">
								<td>调试</td>
								<td>官方工具</td>
								<td>第三方工具</td>
								<td>第三方工具</td>
								<td>第三方工具</td>
							</tr>
						</tbody>
					</table>
        </section>
        <section style="text-align: left">
          <h3>移动端网页</h3>
          <h4 class="fragment">GWT: Java to JavaScript transpiler</h4>
          <br>
          <h3 class="fragment">Windows Phone</h3>
          <h4 class="fragment">Sharpen: Java to C# transpiler</h4>
        </section>
        <section>
          <div>
            <img src="images/from_java_source.svg" style="display: inline-block; margin: 0; border: none; background: none" />
            <div style="display: inline-block; width: 500px">
              <img class="fragment" src="images/j2objc_to_ios.svg" style="margin: 0; border: none; background: none" />
              <img class="fragment" src="images/native_to_android.svg" style="margin: 0; border: none; background: none" />
              <img class="fragment" src="images/sharpen_to_windows_phone.svg" style="margin: 0; border: none; background: none" />
              <img class="fragment" src="images/gwt_to_mobile_web.svg" style="margin: 0; border: none; background: none" />
            </div>
          </div>
        </section>
        <section>
          <h1>即将开源</h1>
          <h3>主页：<a href="http://avantx.io">avantx.io</a></h3>
          <h3>Github：@<a href="https://github.com/AvantX">AvantX</a></h3>
        </section>
        <section style="text-align: left; overflow: hidden">
          <div style="float: left">
            <h2>招贤纳士</h2>
            <ul>
              <li>iOS / Android / 全栈工程师</li>
              <li>&ldquo;做有追求的程序员&rdquo;</li>
              <li>在自己喜欢的城市远程工作</li>
              <li><a href="mailto:hr@peachapp.com">hr@peachapp.com</a></li>
            </ul>
          </div>
          <div style="text-align: center; float: left">
            <img src="images/wechat_qr.jpg" style="width: 300px; height: 300px" />
            <p>微信群：Peach技术交流</p>
          </div>
        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

      Reveal.addEventListener('fragmentshown', function(event) {
        if (event.fragment.classList.contains("storyboard-zoom-trigger")) {
          document.querySelector(".storyboard-wrapper").classList.add("zoom");
        }
      });
      Reveal.addEventListener('fragmenthidden', function(event) {
        if (event.fragment.classList.contains("storyboard-zoom-trigger")) {
          document.querySelector(".storyboard-wrapper").classList.remove("zoom");
        }
      });

		</script>

	</body>
</html>
